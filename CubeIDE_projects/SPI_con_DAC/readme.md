Los siguientes ejemplos son para probar con el STM32F103C6 del Proteus y STM32CubeIDE. 
Estan adaptados para usar el DAC = AD5601 de 8 bits. El DAC necesita que los dos Ãºltimos MSB sean 0 para normal operation.

Datasheet del AD5601 = https://www.analog.com/media/en/technical-documentation/data-sheets/AD5601_5611_5621.pdf
Datasheet del STM32F103C6 = https://www.st.com/resource/en/datasheet/stm32f103t6.pdf

# Ejemplo Triangular:


```c
  uint8_t i = 0;
  while (1)
  {
	 HAL_GPIO_TogglePin(GPIOA,GPIO_PIN_1);
	 buffer[0] = i<<6;
	 buffer[1] = i>>2;
	 i++;
	// HAL_SPI_Transmit(&hspi1, (uint8_t*)(buffer), sizeof(buffer)/(sizeof(uint8_t)*2), 1);
	 HAL_SPI_Transmit(&hspi1, buffer, 1, 1);

    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
  ```
  

# Ejemplo Senoidal con Tabla usando multiples HAL_SPI_Transmit()
```c
  /* USER CODE BEGIN WHILE */
  uint8_t  sine_wave[256] = {
    0x80, 0x83, 0x86, 0x89, 0x8C, 0x90, 0x93, 0x96,
    0x99, 0x9C, 0x9F, 0xA2, 0xA5, 0xA8, 0xAB, 0xAE,
    0xB1, 0xB3, 0xB6, 0xB9, 0xBC, 0xBF, 0xC1, 0xC4,
    0xC7, 0xC9, 0xCC, 0xCE, 0xD1, 0xD3, 0xD5, 0xD8,
    0xDA, 0xDC, 0xDE, 0xE0, 0xE2, 0xE4, 0xE6, 0xE8,
    0xEA, 0xEB, 0xED, 0xEF, 0xF0, 0xF1, 0xF3, 0xF4,
    0xF5, 0xF6, 0xF8, 0xF9, 0xFA, 0xFA, 0xFB, 0xFC,
    0xFD, 0xFD, 0xFE, 0xFE, 0xFE, 0xFF, 0xFF, 0xFF,
    0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFE, 0xFD,
    0xFD, 0xFC, 0xFB, 0xFA, 0xFA, 0xF9, 0xF8, 0xF6,
    0xF5, 0xF4, 0xF3, 0xF1, 0xF0, 0xEF, 0xED, 0xEB,
    0xEA, 0xE8, 0xE6, 0xE4, 0xE2, 0xE0, 0xDE, 0xDC,
    0xDA, 0xD8, 0xD5, 0xD3, 0xD1, 0xCE, 0xCC, 0xC9,
    0xC7, 0xC4, 0xC1, 0xBF, 0xBC, 0xB9, 0xB6, 0xB3,
    0xB1, 0xAE, 0xAB, 0xA8, 0xA5, 0xA2, 0x9F, 0x9C,
    0x99, 0x96, 0x93, 0x90, 0x8C, 0x89, 0x86, 0x83,
    0x80, 0x7D, 0x7A, 0x77, 0x74, 0x70, 0x6D, 0x6A,
    0x67, 0x64, 0x61, 0x5E, 0x5B, 0x58, 0x55, 0x52,
    0x4F, 0x4D, 0x4A, 0x47, 0x44, 0x41, 0x3F, 0x3C,
    0x39, 0x37, 0x34, 0x32, 0x2F, 0x2D, 0x2B, 0x28,
    0x26, 0x24, 0x22, 0x20, 0x1E, 0x1C, 0x1A, 0x18,
    0x16, 0x15, 0x13, 0x11, 0x10, 0x0F, 0x0D, 0x0C,
    0x0B, 0x0A, 0x08, 0x07, 0x06, 0x06, 0x05, 0x04,
    0x03, 0x03, 0x02, 0x02, 0x02, 0x01, 0x01, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x02, 0x02, 0x02, 0x03,
    0x03, 0x04, 0x05, 0x06, 0x06, 0x07, 0x08, 0x0A,
    0x0B, 0x0C, 0x0D, 0x0F, 0x10, 0x11, 0x13, 0x15,
    0x16, 0x18, 0x1A, 0x1C, 0x1E, 0x20, 0x22, 0x24,
    0x26, 0x28, 0x2B, 0x2D, 0x2F, 0x32, 0x34, 0x37,
    0x39, 0x3C, 0x3F, 0x41, 0x44, 0x47, 0x4A, 0x4D,
    0x4F, 0x52, 0x55, 0x58, 0x5B, 0x5E, 0x61, 0x64,
    0x67, 0x6A, 0x6D, 0x70, 0x74, 0x77, 0x7A, 0x7D
  };

  uint8_t  buffer[2] = {0xff,0xff};
  int i = 0;
  while (1)
  {
	 HAL_GPIO_TogglePin(GPIOA,GPIO_PIN_1);

	 buffer[0] = sine_wave[i]<<6;
	 buffer[1] = sine_wave[i]>>2;
	 HAL_SPI_Transmit(&hspi1, buffer, 1, 1);

	 i++;
	 if(i == 256){
		 i = 0;

	 }
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
  ```
  
# Ejemplo Senoidal con Tabla armada previamente (se usa un solo HAL_SPI_Transmit())
  
    ```c
    /* USER CODE BEGIN WHILE */
  uint8_t  sine_wave[256*2] = {
	        0x0, 0x20,0xc0, 0x20,0x80, 0x21,0x40, 0x22,0x0, 0x23,0x0, 0x24,0xc0, 0x24,0x80, 0x25,0x40, 0x26,
	        0x0, 0x27,0xc0, 0x27,0x80, 0x28,0x40, 0x29,0x0, 0x2a,0xc0, 0x2a,0x80, 0x2b,0x40, 0x2c,0xc0, 0x2c,
	        0x80, 0x2d,0x40, 0x2e,0x0, 0x2f,0xc0, 0x2f,0x40, 0x30,0x0, 0x31,0xc0, 0x31,0x40, 0x32,0x0, 0x33,
	        0x80, 0x33,0x40, 0x34,0xc0, 0x34,0x40, 0x35,0x0, 0x36,0x80, 0x36,0x0, 0x37,0x80, 0x37,0x0, 0x38,
	        0x80, 0x38,0x0, 0x39,0x80, 0x39,0x0, 0x3a,0x80, 0x3a,0xc0, 0x3a,0x40, 0x3b,0xc0, 0x3b,0x0, 0x3c,
	        0x40, 0x3c,0xc0, 0x3c,0x0, 0x3d,0x40, 0x3d,0x80, 0x3d,0x0, 0x3e,0x40, 0x3e,0x80, 0x3e,0x80, 0x3e,
	        0xc0, 0x3e,0x0, 0x3f,0x40, 0x3f,0x40, 0x3f,0x80, 0x3f,0x80, 0x3f,0x80, 0x3f,0xc0, 0x3f,0xc0, 0x3f,
	        0xc0, 0x3f,0xc0, 0x3f,0xc0, 0x3f,0xc0, 0x3f,0xc0, 0x3f,0x80, 0x3f,0x80, 0x3f,0x80, 0x3f,0x40, 0x3f,
	        0x40, 0x3f,0x0, 0x3f,0xc0, 0x3e,0x80, 0x3e,0x80, 0x3e,0x40, 0x3e,0x0, 0x3e,0x80, 0x3d,0x40, 0x3d,0x0,
	         0x3d,0xc0, 0x3c,0x40, 0x3c,0x0, 0x3c,0xc0, 0x3b,0x40, 0x3b,0xc0, 0x3a,0x80, 0x3a,0x0, 0x3a,0x80, 0x39,
	         0x0, 0x39,0x80, 0x38,0x0, 0x38,0x80, 0x37,0x0, 0x37,0x80, 0x36,0x0, 0x36,0x40, 0x35,0xc0, 0x34,0x40,
	         0x34,0x80, 0x33,0x0, 0x33,0x40, 0x32,0xc0, 0x31,0x0, 0x31,0x40, 0x30,0xc0, 0x2f,0x0, 0x2f,0x40, 0x2e,
	         0x80, 0x2d,0xc0, 0x2c,0x40, 0x2c,0x80, 0x2b,0xc0, 0x2a,0x0, 0x2a,0x40, 0x29,0x80, 0x28,0xc0, 0x27,0x0,
	          0x27,0x40, 0x26,0x80, 0x25,0xc0, 0x24,0x0, 0x24,0x0, 0x23,0x40, 0x22,0x80, 0x21,0xc0, 0x20,0x0, 0x20,0x40,
	           0x1f,0x80, 0x1e,0xc0, 0x1d,0x0, 0x1d,0x0, 0x1c,0x40, 0x1b,0x80, 0x1a,0xc0, 0x19,0x0, 0x19,0x40, 0x18,0x80,
	            0x17,0xc0, 0x16,0x0, 0x16,0x40, 0x15,0x80, 0x14,0xc0, 0x13,0x40, 0x13,0x80, 0x12,0xc0, 0x11,0x0, 0x11,0x40,
	             0x10,0xc0, 0xf,0x0, 0xf,0x40, 0xe,0xc0, 0xd,0x0, 0xd,0x80, 0xc,0xc0, 0xb,0x40, 0xb,0xc0, 0xa,0x0, 0xa,0x80,
	              0x9,0x0, 0x9,0x80, 0x8,0x0, 0x8,0x80, 0x7,0x0, 0x7,0x80, 0x6,0x0, 0x6,0x80, 0x5,0x40, 0x5,0xc0, 0x4,0x40,
	               0x4,0x0, 0x4,0xc0, 0x3,0x40, 0x3,0x0, 0x3,0xc0, 0x2,0x80, 0x2,0x0, 0x2,0xc0, 0x1,0x80, 0x1,0x80,
	                0x1,0x40, 0x1,0x0, 0x1,0xc0, 0x0,0xc0, 0x0,0x80, 0x0,0x80, 0x0,0x80, 0x0,0x40, 0x0,0x40, 0x0,0x40,
	                 0x0,0x40, 0x0,0x40, 0x0,0x40, 0x0,0x40, 0x0,0x80, 0x0,0x80, 0x0,0x80, 0x0,0xc0, 0x0,0xc0, 0x0,0x0,
	                  0x1,0x40, 0x1,0x80, 0x1,0x80, 0x1,0xc0, 0x1,0x0, 0x2,0x80, 0x2,0xc0, 0x2,0x0, 0x3,0x40, 0x3,0xc0,
	                   0x3,0x0, 0x4,0x40, 0x4,0xc0, 0x4,0x40, 0x5,0x80, 0x5,0x0, 0x6,0x80, 0x6,0x0, 0x7,0x80, 0x7,0x0,
	                    0x8,0x80, 0x8,0x0, 0x9,0x80, 0x9,0x0, 0xa,0xc0, 0xa,0x40, 0xb,0xc0, 0xb,0x80, 0xc,0x0, 0xd,0xc0,
	                     0xd,0x40, 0xe,0x0, 0xf,0xc0, 0xf,0x40, 0x10,0x0, 0x11,0xc0, 0x11,0x80, 0x12,0x40, 0x13,0xc0,
	                      0x13,0x80, 0x14,0x40, 0x15,0x0, 0x16,0xc0, 0x16,0x80, 0x17,0x40, 0x18,0x0, 0x19,0xc0, 0x19,
	                      0x80, 0x1a,0x40, 0x1b,0x0, 0x1c,0x0, 0x1d,0xc0, 0x1d,0x80, 0x1e
  };

  while (1)
  {
	 HAL_GPIO_TogglePin(GPIOA,GPIO_PIN_1);

	 HAL_SPI_Transmit(&hspi1, sine_wave, 256-1, 1);


    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
  ```
